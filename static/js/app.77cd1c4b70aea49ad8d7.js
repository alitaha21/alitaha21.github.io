webpackJsonp([1],{NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("7+uW"),a=o("yGkR"),n={name:"navbar",data:function(){return{isLoggedIn:!1,currentUser:!1}},created:function(){a.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=a.a.auth().currentUser.email)},methods:{logout:function(){var t=this;a.a.auth().signOut().then(function(){t.$router.go({path:t.$router.path})})}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",[o("div",{staticClass:"nav-wrapper dark-red"},[o("div",{staticClass:"container"},[o("router-link",{staticClass:"brand-logo",attrs:{to:"/"}},[t._v("Project Manager")]),t._v(" "),o("ul",{staticClass:"right"},[t.isLoggedIn?o("li",[o("router-link",{attrs:{to:"/"}},[t._v("Dashboard")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():o("li",[o("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t._v(" "),t.isLoggedIn?t._e():o("li",[o("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1),t._v(" "),t.isLoggedIn?o("li",[o("button",{staticClass:"btn black",on:{click:t.logout}},[t._v("Logout")])]):t._e()])],1)])])},staticRenderFns:[]},s={name:"App",components:{Navbar:o("VU/8")(n,i,!1,null,null,null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Navbar"),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1)},staticRenderFns:[]},l=o("VU/8")(s,c,!1,null,null,null).exports,p=o("/ocq"),d=(o("881v"),a.a.initializeApp({apiKey:"AIzaSyA07JaZzB94MTn8AcpMj_4PERgpZIka7rA",authDomain:"roads-bridges-commission.firebaseapp.com",projectId:"roads-bridges-commission",storageBucket:"roads-bridges-commission.appspot.com",messagingSenderId:"562863405367",appId:"1:562863405367:web:4a9621bfdfc067845b82b2",measurementId:"G-QWS0DTC3MH"}).firestore()),u={name:"dashboard",data:function(){return{projects:[]}},created:function(){var t=this;d.collection("projects").get().then(function(e){e.forEach(function(e){var o={id:e.id,project_id:e.data().project_id,project_desc:e.data().project_desc,project_info:e.data().project_info};t.projects.push(o)})})}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"dashboard"}},[o("ul",{staticClass:"collection with-header"},[t._m(0),t._v(" "),t._l(t.projects,function(e){return o("li",{key:e.project_id,staticClass:"collection-item"},[o("div",{staticClass:"chip"},[t._v(t._s(e.project_desc))]),t._v(" "),o("router-link",{staticClass:"secondary-content left",attrs:{to:{name:"view-project",params:{project_id:e.project_id}}}},[t._v("\n                تفاصيل\n            ")])],1)})],2),t._v(" "),o("div",{staticClass:"fixed-action-btn"},[o("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:"/new"}},[t._v("\n            اضافة\n        ")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"collection-header"},[e("h4",[this._v("Projects")])])}]},_=o("VU/8")(u,m,!1,null,null,null).exports,v={name:"new-project",data:function(){return{project_id:null,project_desc:null,project_info:null,first_company:null,second_company:null}},methods:{saveProject:function(){var t=this;d.collection("projects").add({project_id:this.project_id,project_desc:this.project_desc,project_info:this.project_info,first_company:this.first_company,second_company:this.second_company}).then(function(e){t.$router.push("/")}).catch(function(t){return console.log(err)})}}},f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"new-project"}},[o("h3",[t._v("New Project")]),t._v(" "),o("div",{staticClass:"row"},[o("form",{staticClass:"s12",on:{submit:function(e){return e.preventDefault(),t.saveProject(e)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_id,expression:"project_id"}],attrs:{type:"text",required:""},domProps:{value:t.project_id},on:{input:function(e){e.target.composing||(t.project_id=e.target.value)}}}),t._v(" "),o("label",[t._v("Project Number")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_desc,expression:"project_desc"}],attrs:{type:"text",required:""},domProps:{value:t.project_desc},on:{input:function(e){e.target.composing||(t.project_desc=e.target.value)}}}),t._v(" "),o("label",[t._v("Project Description")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_info,expression:"project_info"}],attrs:{type:"text",required:""},domProps:{value:t.project_info},on:{input:function(e){e.target.composing||(t.project_info=e.target.value)}}}),t._v(" "),o("label",[t._v("Project Information")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.first_company,expression:"first_company"}],attrs:{type:"text",required:""},domProps:{value:t.first_company},on:{input:function(e){e.target.composing||(t.first_company=e.target.value)}}}),t._v(" "),o("label",[t._v("Company Name")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.second_company,expression:"second_company"}],attrs:{type:"text"},domProps:{value:t.second_company},on:{input:function(e){e.target.composing||(t.second_company=e.target.value)}}}),t._v(" "),o("label",[t._v("Company Name")])])]),t._v(" "),o("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),o("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]},h=o("VU/8")(v,f,!1,null,null,null).exports,j={name:"edit-project",data:function(){return{project_id:null,project_desc:null,project_info:null,first_company:null,second_company:null}},beforeRouteEnter:function(t,e,o){d.collection("projects").where("project_id","==",t.params.project_id).get().then(function(t){t.forEach(function(t){o(function(e){e.project_id=t.data().project_id,e.project_desc=t.data().project_desc,e.project_info=t.data().project_info,e.first_company=t.data().first_company,e.second_company=t.data().second_company})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;d.collection("projects").where("project_id","==",this.$route.params.project_id).get().then(function(e){e.forEach(function(e){t.project_id=e.data().project_id,t.project_desc=e.data().project_desc,t.project_info=e.data().project_info,t.first_company=e.data().first_company,t.second_company=e.data().second_company})})},updateProject:function(){var t=this;d.collection("projects").where("project_id","==",this.$route.params.project_id).get().then(function(e){e.forEach(function(e){e.ref.update({project_id:t.project_id,project_desc:t.project_desc,project_info:t.project_info,first_company:t.first_company,second_company:t.second_company}).then(function(){t.$router.push({name:"view-project",params:{project_id:t.project_id}})})})})}}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"edit-project"}},[o("h3",[t._v("Edit Project")]),t._v(" "),o("div",{staticClass:"row"},[o("form",{staticClass:"s12",on:{submit:function(e){return e.preventDefault(),t.updateProject(e)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_id,expression:"project_id"}],attrs:{type:"text",required:"",disabled:""},domProps:{value:t.project_id},on:{input:function(e){e.target.composing||(t.project_id=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_desc,expression:"project_desc"}],attrs:{type:"text",required:""},domProps:{value:t.project_desc},on:{input:function(e){e.target.composing||(t.project_desc=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_info,expression:"project_info"}],attrs:{type:"text",required:""},domProps:{value:t.project_info},on:{input:function(e){e.target.composing||(t.project_info=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.first_company,expression:"first_company"}],attrs:{type:"text",required:""},domProps:{value:t.first_company},on:{input:function(e){e.target.composing||(t.first_company=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"input-field col s12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.second_company,expression:"second_company"}],attrs:{type:"text"},domProps:{value:t.second_company},on:{input:function(e){e.target.composing||(t.second_company=e.target.value)}}})])]),t._v(" "),o("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),o("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]},w=o("VU/8")(j,g,!1,null,null,null).exports,y={name:"view-project",data:function(){return{project_id:null,project_desc:null,project_info:null,to_start:null,to_end:null}},beforeRouteEnter:function(t,e,o){d.collection("projects").where("project_id","==",t.params.project_id).get().then(function(t){t.forEach(function(t){o(function(e){e.project_id=t.data().project_id,e.project_desc=t.data().project_desc,e.project_info=t.data().project_info})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;d.collection("projects").where("project_id","==",this.$route.params.project_id).get().then(function(e){e.forEach(function(e){t.project_id=e.data().project_id,t.project_desc=e.data().project_desc,t.project_info=e.data().project_info})})},deleteProject:function(){var t=this;confirm("Are you sure?")&&d.collection("projects").where("project_id","==",this.$route.params.project_id).get().then(function(e){e.forEach(function(e){e.ref.delete(),t.$router.push("/")})})}}},b={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"view-project"}},[o("ul",{staticClass:"collection with-header"},[o("li",{staticClass:"collection-header"},[o("h4",[t._v(t._s(t.project_info))])])]),t._v(" "),o("router-link",{staticClass:"btn grey right",attrs:{to:"/"}},[t._v("Back")]),t._v(" "),o("button",{staticClass:"btn red",on:{click:t.deleteProject}},[t._v("Delete")]),t._v(" "),o("div",{staticClass:"fixed-action-btn"},[o("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"edit-project",params:{project_id:t.project_id}}}},[t._v("\n            تعديل\n        ")])],1)],1)},staticRenderFns:[]},C=o("VU/8")(y,b,!1,null,null,null).exports,x={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(t){var e=this;a.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){alert("You are logged in."),e.$router.go({path:e.$router.path})},function(t){alert(t.message)}),t.preventDefault()}}},P={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h3",[t._v("Login")]),t._v(" "),o("form",[o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"email"}},[t._v("Email")])]),t._v(" "),o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"password"}},[t._v("Password")])]),t._v(" "),o("button",{staticClass:"btn btn-large grey lighten-4 black-text",attrs:{type:"submit"},on:{click:t.login}},[t._v("Login")])])])},staticRenderFns:[]},E=o("VU/8")(x,P,!1,null,null,null).exports,k={name:"register",data:function(){return{email:"",password:""}},methods:{register:function(t){var e=this;a.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){alert("Account created."),e.$router.go({path:e.$router.path})},function(t){alert(t.message)}),t.preventDefault()}}},$={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h3",[t._v("Register")]),t._v(" "),o("form",[o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"email"}},[t._v("Email")])]),t._v(" "),o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"password"}},[t._v("Password")])]),t._v(" "),o("button",{staticClass:"btn btn-large grey lighten-4 black-text",attrs:{type:"submit"},on:{click:t.register}},[t._v("Register")])])])},staticRenderFns:[]},N=o("VU/8")(k,$,!1,null,null,null).exports;r.a.use(p.a);var q=new p.a({routes:[{path:"/",name:"dashboard",component:_,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:E,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:N,meta:{requiresGuest:!0}},{path:"/new",name:"new-project",component:h,meta:{requiresAuth:!0}},{path:"/edit/:project_id",name:"edit-project",component:w,meta:{requiresAuth:!0}},{path:"/view/:project_id",name:"view-project",component:C,meta:{requiresAuth:!0}}]});q.beforeEach(function(t,e,o){t.matched.some(function(t){return t.meta.requiresAuth})?a.a.auth().currentUser?o():o({path:"/login",query:{redirect:t.fullPath}}):t.matched.some(function(t){return t.meta.requiresGuest})&&a.a.auth().currentUser?o({path:"/",query:{redirect:t.fullPath}}):o()});var A=q;r.a.config.productionTip=!1;var R=void 0;a.a.auth().onAuthStateChanged(function(t){R||(R=new r.a({el:"#app",router:A,components:{App:l},template:"<App/>"}))})}},["NHnr"]);
//# sourceMappingURL=app.77cd1c4b70aea49ad8d7.js.map